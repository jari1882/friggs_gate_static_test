# Repository Reorganization - July 14, 2025

## File Structure Cleanup

### Files Removed
- `permissions.md` - Empty file, redundant with GitHub's native permission system
- `scratchpad.md` - Temporary notes file removed for cleaner documentation structure
- `7-8.md` - Renamed to current date for better organization

### Documentation Standardization
- Implementing UPPERCASE.md naming convention for all documentation files
- Ensures consistency across the documentation directory

## Changes Made Today
- Repository structure review and cleanup
- Filename convention standardization
- Removal of redundant and temporary files
- Improved documentation organization

## Frontend Message Display Fixes
- Fixed white text on white background visibility issue in ChatMessageBubble.tsx
- Added proper error handling to prevent message display failures
- Improved error handling in sendMessage, sendInitialQuestion, and UI event handlers
- Messages should now display properly for both user input and backend responses

## Tool Dock to Structured Input Redesign
- Renamed ToolDock component to StructuredInput for better terminology consistency
- Removed all dummy tools (Tool A, B, C, etc.) from state management
- Created dropdown selection between QuickQuote and LifeExpectancy tools
- Implemented distinct input forms for each tool:
  - QuickQuote: Age, Gender, Smoker status, Coverage amount
  - LifeExpectancy: Age, Gender, Health conditions, Lifestyle, Generate visualization image
- Added full minimize/collapse functionality with clean UI
- Removed artificial resize limits - panel can now expand to full screen width
- Updated all documentation to remove Tool Dock references
- Preserved existing resizing behavior and smooth animations

## Light/Dark Mode Theme Toggle
- Added comprehensive theme state management to useFriggState hook
- Created ThemeToggle component with animated switch and sun/moon icons
- Implemented dark mode styling across all components:
  - ChatWindow: Dark backgrounds, borders, and text colors
  - StructuredInput: Theme-responsive forms and inputs
  - ChatMessageBubble: Dynamic text colors based on theme
  - StructuredOutputDock: Dark sidebar with themed borders and text
  - MemorySlider: Dark container and memory buttons
  - EmptyState: Dark themed action cards (4 buttons above input)
- Placed toggle in header for easy access and consistency
- Theme switching works instantly without page reload
- Defaults to light mode on application start
- All transitions are smooth with 200ms duration for polished UX

## Structured Output Dock Enhancement
- Added identical minimize/expand functionality to match StructuredInput
- Minimized state collapses to thin 12px sidebar with expand button
- Remove artificial width limits - can now expand to full screen width
- Added proper ChevronDown/ChevronUp icons with rotation animations
- Theme-responsive minimize button with proper hover states
- Updated state management with isStructuredOutputMinimized
- Consistent behavior and styling with StructuredInput component

## Input Field Focus Styling Fix (Revised)
- Fixed blue focus outline collision with submit button using container-based approach
- Wrapped textarea in div with padding-right (3rem) to prevent text overlap with button
- Used focus-within pseudo-class on container instead of direct textarea focus styling  
- Disabled Chakra UI's default focus styles (boxShadow: "none", outline: "none")
- Theme-responsive focus ring: blue-400 for dark mode, blue-500 for light mode
- Focus ring appears on container boundary, staying clear of button area
- Maintained rounded corners and smooth transitions for polished UX